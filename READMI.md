ExpenseTracker ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ FastAPI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é Redis.

–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

Python 3.11+
FastAPI 0.115.8 ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
Uvicorn 0.34.0 ‚Äî ASGI-—Å–µ—Ä–≤–µ—Ä
APScheduler 3.11.0 ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
Redis 5.2.1 ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫–µ—à–∞
SQLAlchemy 2.0.38 + asyncpg 0.30.0 ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ORM –¥–ª—è PostgreSQL
alembic 1.14.1 ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏
bcrypt, passlib ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
pydantic 2.10.6 ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
aiosmtplib 4.0.1 ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email
redis-py 5.2.1 ‚Äî –∫–ª–∏–µ–Ω—Ç Redis

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–º. requirements.txt.

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
1. user_service (–ø–æ—Ä—Ç 8000)
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

POST /auth/register ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

POST /auth/login ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–æ–≤

POST /auth/logout ‚Äî –≤—ã—Ö–æ–¥

JWT (access & refresh) –≤ HTTP-only cookies

2. subscriber_service (–ø–æ—Ä—Ç 8001)

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–ø–∏—Å—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ Redis.

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

POST /sub/create_new_sub ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (—Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º –¥–∞—Ç—ã —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–ª–∞—Ç–µ–∂–∞)

PATCH /sub/update/{id} ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (—É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)

DELETE /sub/delete/{id} ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

GET /sub/get_all_subs ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∞—Ç—ã –ø–ª–∞—Ç–µ–∂–∞ —á–µ—Ä–µ–∑ dateutil.relativedelta (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, –µ–∂–µ–º–µ—Å—è—á–Ω–æ, –µ–∂–µ–≥–æ–¥–Ω–æ)

TTL-–ª–æ–≥–∏–∫—É –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç Redis Sorted Set (reminders)

3. notification_service (–ø–æ—Ä—Ç 8002)
–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª: –æ—Ç–ø—Ä–∞–≤–∫–∞ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
–ú–µ—Ö–∞–Ω–∏–∑–º:

APScheduler –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á—É check_reminders –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω).

–ò–∑ Redis Sorted Set –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –≤—Å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å score <= now.

–î–∞–Ω–Ω—ã–µ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ Pydantic-–º–æ–¥–µ–ª—å EmailReminder.

–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ aiosmtplib.

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (—Å —É—á—ë—Ç–æ–º —á–∞—Å—Ç–æ—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ 3 –¥–Ω—è).

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

POST /send_notification ‚Äî —Ä—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)



üõ† –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

Redis MISCONF (RDB snapshot failure)
–û—à–∏–±–∫–∞: MISCONF Redis is configured to save RDB snapshots...
–ü—Ä–∏—á–∏–Ω–∞: Redis –Ω–µ –º–æ–≥ –∑–∞–ø–∏—Å–∞—Ç—å dump.rdb –≤ –ø–∞–ø–∫—É.
–†–µ—à–µ–Ω–∏–µ: —É–∫–∞–∑–∞–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å dir D:/.../common_utils/redis/redis_data, —Å–æ–∑–¥–∞–ª–∏ –ø–∞–ø–∫—É –∏ –∑–∞–ø—É—Å—Ç–∏–ª–∏ Redis —Å —ç—Ç–∏–º –∫–æ–Ω—Ñ–∏–≥–æ–º; —É–±—Ä–∞–ª–∏ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å.

–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è Redis
–û—à–∏–±–∫–∞: Invalid input of type: 'EmailReminder' –ø—Ä–∏ zrem.
–†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏–ª–∏ –º–µ—Ç–æ–¥ to_dict() –∏ –≤—Å–µ–≥–¥–∞ json.dumps(reminder.to_dict(), ensure_ascii=False) –ø–µ—Ä–µ–¥ zadd/zrem.


üéØ –î–∞–ª—å–Ω–µ–π—à–∏–µ –∏–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

Retry-–ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π  –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email

–û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á: –≤—ã–¥–µ–ª–∏—Ç—å Celery + RabbitMQ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –∏ retry mechanism

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Prometheus + Grafana –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –æ—à–∏–±–æ–∫

–¢–µ—Å—Ç—ã: –ø–æ–∫—Ä—ã—Ç–∏–µ unit- –∏ integration-—Ç–µ—Å—Ç–∞–º–∏ —Å pytest-asyncio

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–µ–±-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (React/Vue) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π